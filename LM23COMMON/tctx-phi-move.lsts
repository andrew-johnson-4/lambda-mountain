
let .phi-move(tctx: TypeContext?, tt: Type, blame: AST): TypeContext? = (
   tt = tctx.with-phi(tt);
   print("Phi Move \{tt}\n");
   if not(tctx.get-or(mk-tctx()).is-blob) then {
      let phi-id = tt.slot(c"Phi::Id",1).l1.simple-tag;
      let phi-state = tt.slot(c"Phi::State",1).l1;
      if non-zero(phi-id) && non-zero(phi-state) {
         tctx = tctx.bind-phi(phi-id, phi-state.move-linear, blame);
      }
   };
   tctx
);
