
import lib/std/minimal.lsts;

assert( mk-vector(type(U8)).length == 0 );
assert( safe-alloc-block-count == 0 );
assert( safe-alloc-block-count-monotonic == 0 );
safe-alloc-block-count-monotonic = 0;

assert( mk-vector(type(U8), 0).length == 0 );
assert( safe-alloc-block-count == 0 );
assert( safe-alloc-block-count-monotonic == 0 );
safe-alloc-block-count-monotonic = 0;

assert( mk-vector(type(U8), 123).length == 0 );
assert( safe-alloc-block-count == 0 );
if not(config-v23) then assert( safe-alloc-block-count-monotonic == 1 );
safe-alloc-block-count-monotonic = 0;

assert( (mk-vector() : Vector<U8>).length == 0 );
assert( safe-alloc-block-count == 0 );
assert( safe-alloc-block-count-monotonic == 0 );
safe-alloc-block-count-monotonic = 0;

assert( (mk-vector(0) : Vector<U8>).length == 0 );
assert( safe-alloc-block-count == 0 );
assert( safe-alloc-block-count-monotonic == 0 );
safe-alloc-block-count-monotonic = 0;

assert( (mk-vector(123) : Vector<U8>).length == 0 );
assert( safe-alloc-block-count == 0 );
if not(config-v23) then assert( safe-alloc-block-count-monotonic == 1 );
safe-alloc-block-count-monotonic = 0;
