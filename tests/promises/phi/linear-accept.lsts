
import lib2/core/baremetal.lsts;

type A = {};
type phi AState = First{promise:'a} | Second;

let f(a: A+AState::First<'a>): A+AState::Second = a as AState::Second;
let g(a: A+AState::Second): Nil = ();

let c(): Nil = (
   g(f(A as AState::First<'a>));
);
