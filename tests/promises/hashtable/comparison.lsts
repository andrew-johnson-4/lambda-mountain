
import lib2/core/bedrock.lsts;

assert( ({} : Hashtable<U64,U64>)[0] == ({} : Hashtable<U64,U64>)[0] );
assert( {1:2}[1] == {1:2}[1] );
assert( {1:2}[1] != {2:3}[1] );
assert( {1:2}[1] == {1:2,2:3}[1] );
assert( safe-alloc-block-count == 0 );

# Resize threshold is 16 so just checking
assert( {1:2}[1] == {1:2,2:3,3:4,4:5,5:6,6:7,7:8,8:9,9:10,10:11,11:12,12:13,13:14,14:15,15:16,16:17,17:18}[1] );
assert( safe-alloc-block-count == 0 );


#assert( ({} : Hashtable<String,String>)["0"] == ({} : Hashtable<String,String>)["0"] );
#assert( {"1":"2"} == {"1":"2"} );
#assert( {"1":"2"} != {"2":"3"} );
#assert( {"1":"2"} != {"1":"2","2":"3"} );
#assert( safe-alloc-block-count == 0 );
