
import lib2/core/bedrock.lsts;

assert( "" == "" );
assert( "a" == "a" );
assert( "a" != "b" );
assert( "a" <= "a" );
assert( "a" < "b" );
assert( "a" >= "a" );
assert( "b" >= "a" );
assert( "b" > "a" );
assert( "aa" > "a" );
assert( "a" < "aa" );
assert( safe-alloc-block-count == 0 );

assert( cmp("a", "a") == Equal );
assert( cmp("a", "b") == LessThan );
assert( cmp("b", "a") == GreaterThan );
assert( safe-alloc-block-count == 0 );

assert( "".length == 0 );
assert( "a".length == 1 );
assert( "ab".length == 2 );
assert( safe-alloc-block-count == 0 );

assert( "" + "a" == "a" );
assert( "a" + "b" == "ab" );
assert( "ab" + "" == "ab" );
assert( safe-alloc-block-count == 0 );

# TODO: remove _u64 suffix
# requires USize / ISize distinction
assert( "a"[1_u64 : 1_u64] == "" );
assert( "ab"[0_u64 : 1_u64] == "a" );
assert( "ab"[1_u64 : 2_u64] == "b" );
assert( "a"[1_u64 : ] == "" );
assert( "ab"[1_u64 : ] == "b" );
assert( "ab"[ : 1_u64] == "a" );
assert( "ab"[-1 : ] == "b" );
assert( "ab"[ : -1] == "a" );
assert( "ab"[ : ] == "ab" );
assert( safe-alloc-block-count == 0 );

assert( "abc"[0] == 97 );
assert( "abc"[1] == 98 );
assert( "abc"[2] == 99 );
assert( safe-alloc-block-count == 0 );
