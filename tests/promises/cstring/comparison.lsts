
import lib/std/minimal.lsts;

assert( c"a" == c"a" );
assert( c"a" != c"b" );
assert( c"a" <= c"a" );
assert( c"a" < c"b" );
assert( c"a" >= c"a" );
assert( c"b" >= c"a" );
assert( c"b" > c"a" );

assert( cmp(c"a", c"a") == Equal );
assert( cmp(c"a", c"b") == LessThan );
assert( cmp(c"b", c"a") == GreaterThan );

assert( c"".length == 0 );
assert( c"a".length == 1 );
assert( c"ab".length == 2 );

assert( c"abc"[0] == 97 );
assert( c"abc"[1] == 98 );
assert( c"abc"[2] == 99 );

assert( c"a" + c"bc" == c"abc" );

assert( c"abc".has-suffix(c"bc") );
assert( not(c"abc".has-suffix(c"d")) );

assert( head(c"abc") == 97 );
assert( head(c"") == 0 );
assert( tail(c"abc") == c"bc" );
assert( tail(c"") == c"" );

assert( c"abcd".contains(c"abcd") );
assert( c"abcd".contains(c"abc") );
assert( c"abcd".contains(c"bcd") );
assert( c"abcd".contains(c"bc") );
assert( not(c"abcd".contains(c"e")) );

assert( c"abcd".remove-prefix(c"") == Some(c"abcd") );
assert( c"abcd".remove-prefix(c"ab") == Some(c"cd") );
assert( c"abcd".remove-prefix(c"cd") == (None : CString?) );

assert( c"abcd".remove-suffix(c"") == Some(c"abcd") );
assert( c"abcd".remove-suffix(c"cd") == Some(c"ab") );
assert( c"abcd".remove-suffix(c"ab") == (None : CString?) );

assert( c"abcdef".split(c"cd") == mk-vector(type(CString)).push(c"ab").push(c"ef") );
