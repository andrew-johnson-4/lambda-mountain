
import LIB/default-instruction-set.lm;
import LIB/default-primitives.lm;
import LIB/default-stdlib.lm;
import LIB/dev-rules.lm;

type A (A( B , U64 ));
type B (B( U64 , U64 ));
type C (C( U64 , U64 , U64 ));

main := Î». (: (tail(
   (let c (C( 1_u64 2_u64 3_u64 )))
   (let b (B( 1_u64 2_u64 )))
   (let a (A( b 3_u64 )))
   (match a (
      ()
      ( (A( (B( _ x )) y )) (
         (print x)
         (print y)
      ))
   ))
   (match c (
      ()
      ( (C( x y _ )) (
         (print x)
         (print y)
      ))
   ))
)) Nil);
